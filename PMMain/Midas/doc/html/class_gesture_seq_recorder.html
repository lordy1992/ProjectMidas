<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Project Midas: GestureSeqRecorder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Project Midas
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_gesture_seq_recorder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GestureSeqRecorder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a89617ae8b04c44b33006f14c388ed248"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gesture_seq_recorder.html#a89617ae8b04c44b33006f14c388ed248">GestureSeqRecorder</a> (<a class="el" href="class_control_state.html">ControlState</a> *controlStateHandle, <a class="el" href="class_main_g_u_i.html">MainGUI</a> *mainGuiHandle, <a class="el" href="class_sequence_image_manager.html">SequenceImageManager</a> imageManager)</td></tr>
<tr class="separator:a89617ae8b04c44b33006f14c388ed248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aab363a46e6c19c494de8572c039577"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3aab363a46e6c19c494de8572c039577"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>unregisterAll</b> ()</td></tr>
<tr class="separator:a3aab363a46e6c19c494de8572c039577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a2febae745433a770227ab6bdeb7630"><td class="memItemLeft" align="right" valign="top">SequenceStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gesture_seq_recorder.html#a5a2febae745433a770227ab6bdeb7630">registerSequence</a> (midasMode mode, sequence seq, <a class="el" href="structcommand_data.html">commandData</a> seqResponse, std::string name)</td></tr>
<tr class="separator:a5a2febae745433a770227ab6bdeb7630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa64d6f130b1937fea36a8d6aa4362c6b"><td class="memItemLeft" align="right" valign="top">SequenceStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gesture_seq_recorder.html#aa64d6f130b1937fea36a8d6aa4362c6b">progressSequence</a> (Pose::Type <a class="el" href="structgesture.html">gesture</a>, <a class="el" href="class_control_state.html">ControlState</a> state, <a class="el" href="structcommand_data.html">commandData</a> &amp;response)</td></tr>
<tr class="separator:aa64d6f130b1937fea36a8d6aa4362c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad67f5a6b8d22d6895b42e4ec47be3562"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gesture_seq_recorder.html#ad67f5a6b8d22d6895b42e4ec47be3562">progressSequenceTime</a> (int delta, <a class="el" href="structcommand_data.html">commandData</a> &amp;response)</td></tr>
<tr class="separator:ad67f5a6b8d22d6895b42e4ec47be3562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b78602089532a166879ed9a27fac2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gesture_seq_recorder.html#a32b78602089532a166879ed9a27fac2e">checkProgressBaseTime</a> ()</td></tr>
<tr class="separator:a32b78602089532a166879ed9a27fac2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0692d367b4429900c3ab05dfa36990fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gesture_seq_recorder.html#a0692d367b4429900c3ab05dfa36990fa">emptyActiveSequences</a> ()</td></tr>
<tr class="separator:a0692d367b4429900c3ab05dfa36990fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a5fd083e4e0ed75d6f07415a6e5cea1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gesture_seq_recorder.html#a0a5fd083e4e0ed75d6f07415a6e5cea1">setProgressMaxDeltaTime</a> (clock_t newTime)</td></tr>
<tr class="separator:a0a5fd083e4e0ed75d6f07415a6e5cea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5de7ea6101ab22ba2a14f0f718a6370"><td class="memItemLeft" align="right" valign="top">clock_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gesture_seq_recorder.html#aa5de7ea6101ab22ba2a14f0f718a6370">getProgressMaxDeltaTime</a> (void)</td></tr>
<tr class="separator:aa5de7ea6101ab22ba2a14f0f718a6370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65164a6763e30c37677cefe5aff5a36b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gesture_seq_recorder.html#a65164a6763e30c37677cefe5aff5a36b">printStatus</a> (bool verbose=false)</td></tr>
<tr class="separator:a65164a6763e30c37677cefe5aff5a36b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad27d85ae4783eda851c692ffb542efdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gesture_seq_recorder.html#ad27d85ae4783eda851c692ffb542efdb">updateGuiSequences</a> ()</td></tr>
<tr class="separator:ad27d85ae4783eda851c692ffb542efdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a89617ae8b04c44b33006f14c388ed248"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GestureSeqRecorder::GestureSeqRecorder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_control_state.html">ControlState</a> *&#160;</td>
          <td class="paramname"><em>controlStateHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_main_g_u_i.html">MainGUI</a> *&#160;</td>
          <td class="paramname"><em>mainGuiHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_sequence_image_manager.html">SequenceImageManager</a>&#160;</td>
          <td class="paramname"><em>imageManager</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructors/Destructor </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a32b78602089532a166879ed9a27fac2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GestureSeqRecorder::checkProgressBaseTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called to check against progressBaseTime if any sequences are active, so that a sequence can be cleared if timed out, without an asynchronous gesture update. </p>

</div>
</div>
<a class="anchor" id="a0692d367b4429900c3ab05dfa36990fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GestureSeqRecorder::emptyActiveSequences </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Empty the references to sequences that were active, and set progress of each to 0. </p>

</div>
</div>
<a class="anchor" id="aa5de7ea6101ab22ba2a14f0f718a6370"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clock_t GestureSeqRecorder::getProgressMaxDeltaTime </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Accessor.</p>
<dl class="section return"><dt>Returns</dt><dd>Value of progressMaxDeltaTime. </dd></dl>

</div>
</div>
<a class="anchor" id="a65164a6763e30c37677cefe5aff5a36b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GestureSeqRecorder::printStatus </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print out a list of all active sequences, and possibly their progress, and next gesture required to proceed!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">verbose</td><td>If true, prints progress and next gesture in sequence on top of active status.</td></tr>
  </table>
  </dd>
</dl>
<p>TODO: This is the beginning of the code which overlays graphically action data to the user. Just using printing temporarily. </p>

</div>
</div>
<a class="anchor" id="aa64d6f130b1937fea36a8d6aa4362c6b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SequenceStatus GestureSeqRecorder::progressSequence </td>
          <td>(</td>
          <td class="paramtype">Pose::Type&#160;</td>
          <td class="paramname"><em>gesture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_control_state.html">ControlState</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcommand_data.html">commandData</a> &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a gesture, attempt to progress through any registered sequences, that match the mode of the controlState.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gesture</td><td>The recorded gesture that is being used to compare with the registered sequences. </td></tr>
    <tr><td class="paramname">state</td><td>The <a class="el" href="class_control_state.html">ControlState</a> handle to determine the current midasMode of the system, thereby knowing which registered sequence list to search through. </td></tr>
    <tr><td class="paramname">response</td><td>The <a class="el" href="structcommand_data.html">commandData</a> that is populated by the function. Holding a type of NONE means that no sequence was completed. However, if it's not NONE, it holds the response that was registered against the completed sequence. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SequenceStatus associated status information to inform caller of success/lack there of </dd></dl>

</div>
</div>
<a class="anchor" id="ad67f5a6b8d22d6895b42e4ec47be3562"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GestureSeqRecorder::progressSequenceTime </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcommand_data.html">commandData</a> &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>To handle tap/hold differentiation, this should be called to notify the SeqRecorder that a certain amount of time has passed. If a certain amount of time passes while a user is holding a specific pose, then they are deemed to be holding it, otherwise they have tapped it. This function will continually decrement the hold timer, and if it reaches 0, it will clear any active sequences that were supposed to have a 'tap' action, and will progress any sequences that have a 'hold' action.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delta</td><td>The amount of time in ms indicated to have passed. </td></tr>
    <tr><td class="paramname">response</td><td>The <a class="el" href="structcommand_data.html">commandData</a> that is populated by the function. Holding a type of NONE means that no sequence was completed. However, if it's not NONE, it holds the response that was registered against the completed sequence. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SequenceStatus The status of the progression. SUCCESS is typical and wanted. </dd></dl>

</div>
</div>
<a class="anchor" id="a5a2febae745433a770227ab6bdeb7630"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SequenceStatus GestureSeqRecorder::registerSequence </td>
          <td>(</td>
          <td class="paramtype">midasMode&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sequence&#160;</td>
          <td class="paramname"><em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcommand_data.html">commandData</a>&#160;</td>
          <td class="paramname"><em>seqResponse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a sequence of gestures with this call. A registered sequence is associated with a midasMode. When in that mode, any progression of gestures from the Myo will be compared to all associated and registered sequences, and if any are succesfully completed, the registered <a class="el" href="structcommand_data.html">commandData</a> will be returned to the caller. NOTE: Can only register sequences with SeqElements of PoseLength IMMEDIATE if the sequence is of length one. This could be changed in the future if deemed necessary, but this allows progressSequence to be unnafected by this special case.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>The midasMode that the caller is registering the sequence against. </td></tr>
    <tr><td class="paramname">seq</td><td>The sequence (std::vector&lt;Pose::Type&gt;) of gestures to register </td></tr>
    <tr><td class="paramname">seqResponse</td><td>The desired response to activate if the sequence is recognized while in the registered mode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SequenceStatus associated status information to inform caller of success/lack there of </dd></dl>

</div>
</div>
<a class="anchor" id="a0a5fd083e4e0ed75d6f07415a6e5cea1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GestureSeqRecorder::setProgressMaxDeltaTime </td>
          <td>(</td>
          <td class="paramtype">clock_t&#160;</td>
          <td class="paramname"><em>newTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Modifier.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newTime</td><td>The new progressMaxDeltaTime. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad27d85ae4783eda851c692ffb542efdb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GestureSeqRecorder::updateGuiSequences </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the sequence displayer GUI with the latest sequence information. This should be called upon any update to the sequences. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_gesture_seq_recorder_8h_source.html">GestureSeqRecorder.h</a></li>
<li>GestureSeqRecorder.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 7 2015 13:55:02 for Project Midas by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
